<ui:composition template="/pages/templates/template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:rich="http://richfaces.org/rich">
	<ui:define name="title">Issue search</ui:define>
	<ui:define name="head">
		<link rel="stylesheet" type="text/css"
			href="#{facesContext.externalContext.requestContextPath}/css/issue.css" />
	</ui:define>
	<ui:define name="title">Issue Search</ui:define>
	<ui:define name="body">
		<h:form>
			<rich:panel>
				<f:facet name="header">
					<h:outputText value="#{labels.search}" />
				</f:facet>
				<table class="search">
					<tr>
						<td>#{labels.projectName}</td>
						<td><h:inputText value="#{issueSearch.project}" />
						</td>
					</tr>
					<tr>
						<td>#{labels.issueTask}</td>
						<td><h:inputText value="#{issueSearch.titleIssue}" id="title" />
						</td>
					</tr>
					<tr>
						<td>#{labels.issueOwnerCreate}</td>
						<td><h:inputText value="#{issueSearch.createdBy}" /></td>
					</tr>
					<tr>
						<td>#{labels.issueCreatedFrom}</td>
						<td><h:inputText value="#{issueSearch.assignedTo}" /></td>
					</tr>
					<tr>
						<td>#{labels.issueStatus}</td>
						<td><h:selectOneMenu id="subscriptions"
								value="#{issueSearch.status}" style=" width : 149px;">
								<f:selectItem itemLabel="#{labels.choiceOption}" />
								<f:selectItem itemLabel="#{labels.open}" itemValue="1" />
								<f:selectItem itemLabel="#{labels.inProgress}" itemValue="2" />
								<f:selectItem itemLabel="#{labels.resolved}" itemValue="3" />
								<f:selectItem itemLabel="#{labels.reopened}" itemValue="4" />
								<f:selectItem itemLabel="#{labels.closed}" itemValue="5" />
							</h:selectOneMenu> <h:message for="subscriptions" styleClass="issueError" /></td>
					</tr>
					<tr>
						<td>#{labels.issueDecision}</td>
						<td><h:selectOneMenu id="subscriptions2"
								value="#{issueSearch.resolution}" style=" width : 150px;">
								<f:selectItem itemLabel="#{labels.choiceOption}" />
								<f:selectItem itemLabel="#{labels.fixed}" itemValue="1" />
								<f:selectItem itemLabel="#{labels.woNotFix}" itemValue="2" />
								<f:selectItem itemLabel="#{labels.duplicate}" itemValue="3" />
								<f:selectItem itemLabel="#{labels.incomplete}" itemValue="4" />
								<f:selectItem itemLabel="#{labels.cannotReproduce}"
									itemValue="5" />
							</h:selectOneMenu></td>
					</tr>
					<tr>
						<td>#{labels.issuePriority}</td>
						<td><h:selectOneMenu id="subscriptions3"
								value="#{issueSearch.priority}" style=" width : 149px;">
								<f:selectItem itemLabel="#{labels.choiceOption}" />
								<f:selectItem itemLabel="#{labels.critical}" itemValue="1" />
								<f:selectItem itemLabel="#{labels.major}" itemValue="2" />
								<f:selectItem itemLabel="#{labels.minor}" itemValue="3" />
								<f:selectItem itemLabel="#{labels.trivial}" itemValue="4" />
							</h:selectOneMenu>
						</td>
					</tr>
					<tr>
						<td>#{labels.issueCreateDate}</td>
						<td><rich:calendar value="#{issueSearch.dateCreate}"
								id="calendar" showApplyButton="false" cellWidth="24px"
								cellHeight="22px" style="width:200px" datePattern="d/M/yy"
								rendered="true"></rich:calendar></td>
						<td><h:message for="calendar" styleClass="issueError" />
						</td>
					</tr>
					<tr>
						<td></td>
						<td></td>
					</tr>
					<tr>
						<td><h:commandButton value="#{labels.search}"
								action="#{issueSearchAction.search(issueSearch)}" /></td>
					</tr>
				</table>
				<br />
				<rich:dataTable style="margin-left:auto; margin-right:auto;"
					keepSaved="true" id="richTableOut" var="issueDetail"
					value="#{issueSearchAction.dataModel}" rows="10"
					rendered="#{issueSearchAction.dataModel ne null}">
					<f:facet name="header">
						<h3>#{labels.issueResult}</h3>
						<rich:columnGroup>
						<h:column>
								<h:outputText styleClass="headerText"
									value="#{labels.projectName}" />
								<br />
							</h:column>
							<h:column>
								<h:outputText styleClass="headerText"
									value="#{labels.titleIssue}" />
								<br />
							</h:column>
							<h:column>
								<h:outputText styleClass="headerText"
									value="#{labels.issueOwnerCreate}" />
								<br />
							</h:column>
							<h:column>
								<h:outputText styleClass="headerText"
									value="#{labels.issueCreatedFrom}" />
								<br />
							</h:column>
							<h:column>
								<h:outputText styleClass="headerText"
									value="#{labels.issueCreateDate}" />
								<br />
							</h:column>
							<h:column>
								<h:outputText styleClass="headerText"
									value="#{labels.dateEnded}" />
								<br />
							</h:column>
							<h:column>
								<h:outputText styleClass="headerText"
									value="#{labels.issueStatus}" />
								<br />
							</h:column>
							<h:column>
								<h:outputText styleClass="headerText"
									value="#{labels.issuePriority}" />
								<br />
							</h:column>
							<h:column>
								<h:outputText styleClass="headerText"
									value="#{labels.resolution}" />
								<br />
							</h:column>
							<h:column>
								<h:outputText styleClass="headerText"
									value="#{labels.issueDetail}" />
								<br />
							</h:column>

						</rich:columnGroup>
					</f:facet>
					<h:column>
						<h:outputText value="#{issueDetail.project.name}" />
					</h:column>
					<h:column>
						<h:commandLink value="#{issueDetail.titleIssue}"
							action="#{issueCreateAction.open(issueDetail)}" />
					</h:column>

					<h:column>
						<h:outputText value="#{issueDetail.reporter}" />
					</h:column>
					<h:column>
						<h:outputText value="#{issueDetail.assignee}" />
					</h:column>
					<h:column>
						<h:outputText value="#{issueDetail.dateCreated}" />
					</h:column>
					<h:column>
						<h:outputText value="#{issueDetail.dateEnded}" />
					</h:column>
					<h:column>
						<h:outputText value="#{issueDetail.status}" />
					</h:column>
					<h:column>
						<h:outputText value="#{issueDetail.priority}" />
					</h:column>
					<h:column>
						<h:outputText value="#{issueDetail.resolution}" />
					</h:column>
					<h:column>
						<h:outputText value="#{issueDetail.desctription}" />
					</h:column>

					<f:facet name="footer">
						<rich:dataScroller id="scroller" />
					</f:facet>
				</rich:dataTable>
			</rich:panel>
		</h:form>
	</ui:define>

</ui:composition>
