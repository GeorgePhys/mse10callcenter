<ui:composition template="/pages/templates/template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:rich="http://richfaces.org/rich">
	<ui:define name="title">Issue search</ui:define>
	<ui:define name="head">
		<link rel="stylesheet" type="text/css" href="../css/template.css" />
		<link rel="stylesheet" type="text/css" href="../css/issue.css" />
	</ui:define>
	<ui:define name="pageHeader">Issue Search</ui:define>
	<ui:define name="body">
		<f:loadBundle basename="labels.labels_bg" var="label" />


		<h:form>
			<rich:panel>
				<f:facet name="header">
					<h:outputText value="#{labels.search}" />
				</f:facet>



				<table class="search">
					<tr>
						<td>#{label.issueTask}</td>
						<td><h:inputText value="#{issueSearch.titleIssue}" id="title"
								/> <h:message for="title"
								styleClass="issueError" /></td>
					</tr>
					<tr>
						<td>#{label.issueCreatedFrom}</td>
						<td><h:inputText value="#{issueSearch.createdBy}" /></td>
					</tr>
					<tr>
						<td>#{label.issueOwnerCreate}</td>
						<td><h:inputText value="#{issueSearch.assignedTo}" /></td>
					</tr>
					<tr>
						<td>#{label.issueStatus}</td>
						<td><h:selectOneMenu id="subscriptions"
								value="#{issueSearch.status}" style=" width : 149px;" >
								<f:selectItem itemLabel="Избери опция"/>
								<f:selectItem itemLabel="Отворен" itemValue="1" />
								<f:selectItem itemLabel="В прогрес" itemValue="2" />
								<f:selectItem itemLabel="Решен" itemValue="3" />
								<f:selectItem itemLabel="Подновен" itemValue="4" />
								<f:selectItem itemLabel="Затворен" itemValue="5" />
							</h:selectOneMenu>  <h:message for="subscriptions"
								styleClass="issueError" /></td>
					</tr>
					<tr>
						<td>#{label.issueDecision}</td>
						<td><h:selectOneMenu id="subscriptions2"
								value="#{issueSearch.resolution}" style=" width : 150px;">
								<f:selectItem itemLabel="Избери опция"  />
								<f:selectItem itemLabel="Установено" itemValue="1" />
								<f:selectItem itemLabel="Няма решение" itemValue="2" />
								<f:selectItem itemLabel="Повторение" itemValue="3" />
								<f:selectItem itemLabel="Незавършен" itemValue="4" />
								<f:selectItem itemLabel="Невъзпроизводим" itemValue="5" />
							</h:selectOneMenu></td>
					</tr>
					<tr>
						<td>#{label.issuePriority}</td>
						<td><h:selectOneMenu id="subscriptions3"
								value="#{issueSearch.priority}" style=" width : 149px;">
								<f:selectItem itemLabel="Избери опция"  />
								<f:selectItem itemLabel="Критичен" itemValue="1" />
								<f:selectItem itemLabel="Важен" itemValue="2" />
								<f:selectItem itemLabel="Маловажен" itemValue="3" />
								<f:selectItem itemLabel="Незначителен" itemValue="4" />
							</h:selectOneMenu> </td>
					</tr>
					<tr>
						<td>#{label.issueCreateDate}</td>
						<td><rich:calendar value="#{issueSearch.dateCreate}"
								id="calendar" showApplyButton="false" cellWidth="24px"
								cellHeight="22px" style="width:200px" datePattern="d/M/yy"
								rendered="true"></rich:calendar> <h:message for="calendar"
								styleClass="issueError" /></td>
					</tr>

					<tr>
						<td></td>
						<td></td>
					</tr>
					<tr>
						<td><h:commandButton value="#{label.search}"
								action="#{issueSearchAction.search(issueSearch)}" /></td>
						<td><h:commandButton value="#{label.issueCancel}" action="#{issueSearchAction.clearSearch(issueSearch)}" /></td>
					</tr>
					<tr>
						<td rowspan="1"><h3>#{label.issueResult}</h3>
						</td>
						<td></td>
					</tr>
				</table>

				<rich:dataTable keepSaved="true" id="richTableOut" var="issueDetail"
					value="#{issueSearchAction.dataModel}" rows="10"
					rendered="#{issueSearchAction.dataModel ne null}">
					<f:facet name="header">
						<rich:columnGroup>
							
							<h:column>
								<h:outputText styleClass="headerText" value="Title Issue" />
								<br />
							</h:column>
							<h:column>
								<h:outputText styleClass="headerText" value="Date Create" />
								<br />
							</h:column>
							<h:column>
								<h:outputText styleClass="headerText" value="Date Ended" />
								<br />
							</h:column>
							<h:column>
								<h:outputText styleClass="headerText" value="Created By" />
								<br />
							</h:column>
							<h:column>
								<h:outputText styleClass="headerText" value="Assigned To" />
								<br />
							</h:column>
							<h:column>
								<h:outputText styleClass="headerText" value="Status" />
								<br />
							</h:column>
							<h:column>
								<h:outputText styleClass="headerText" value="Resolution" />
								<br />
							</h:column>

						</rich:columnGroup>
					</f:facet>
					<h:column>
						<h:outputText value="#{issueDetail.titleIssue}" />
					</h:column>
					<h:column>
						<h:outputText value="#{issueDetail.dateCreated}" />
					</h:column>
					<h:column>
						<h:outputText value="#{issueDetail.dateEnded}" />
					</h:column>
					<h:column>
						<h:outputText value="#{issueDetail.user}" />
					</h:column>
					<h:column>
						<h:outputText value="#{issueDetail.assignee}" />
					</h:column>
					<h:column>
						<h:outputText value="#{issueDetail.status}" />
					</h:column>
					<h:column>
						<h:outputText value="#{issueDetail.resolution}" />
					</h:column>
					<f:facet name="footer">
						<rich:dataScroller id="scroller" />
					</f:facet>
				</rich:dataTable>
			</rich:panel>
		</h:form>
	</ui:define>

</ui:composition>
