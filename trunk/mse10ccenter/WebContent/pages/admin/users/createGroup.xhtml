<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	template="/pages/templates/template.xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:rich="http://richfaces.org/rich">

	<ui:define name="title">#{labelsBean.getLabel('groupPrivileges')}</ui:define>
	<ui:define name="head">
		<link rel="stylesheet" type="text/css"
			href="#{facesContext.externalContext.requestContextPath}/css/admin.css" />
	</ui:define>
	<ui:define name="body">
		<h:form id="groupPrivilges">
			<h:outputLabel value="#{labelsBean.getLabel('groupName')}" />
			<br />
			<h:inputText value="${createGroupAction.groupName}" />
			<br />
			<h:outputLabel value="#{labelsBean.getLabel('description')}" />
			<br />
			<h:inputTextarea value="${createGroupAction.groupDescription}" />

			<rich:tabPanel switchType="client">
				<rich:tab header="#{labelsBean.getLabel('user')}">
					<h:selectManyCheckbox value="#{createGroupAction.selectedUserArea}" layout="pageDirection">
						<f:selectItems value="#{createGroupAction.getPrivileges('user')}"
							var="p" itemLabel="#{createGroupAction.getLabel(p)}"
							itemValue="#{p.id}" />
					</h:selectManyCheckbox>
				</rich:tab>
				<rich:tab header="#{labelsBean.getLabel('forum')}">
					<h:selectManyCheckbox value="#{createGroupAction.selectedForumArea}" layout="pageDirection">
						<f:selectItems value="#{createGroupAction.getPrivileges('forum')}"
							var="p" itemLabel="#{createGroupAction.getLabel(p)}"
							itemValue="#{p.id}" />
					</h:selectManyCheckbox>
				</rich:tab>
				<rich:tab header="#{labelsBean.getLabel('shop')}">
					<h:selectManyCheckbox value="#{createGroupAction.selectedShopArea}" layout="pageDirection">
						<f:selectItems value="#{createGroupAction.getPrivileges('shop')}"
							var="p" itemLabel="#{createGroupAction.getLabel(p)}"
							itemValue="#{p.id}" />
					</h:selectManyCheckbox>
				</rich:tab>
				<rich:tab header="#{labelsBean.getLabel('issue')}">
					<h:selectManyCheckbox value="#{createGroupAction.selectedIssueArea}" layout="pageDirection">
						<f:selectItems value="#{createGroupAction.getPrivileges('issue')}"
							var="p" itemLabel="#{createGroupAction.getLabel(p)}"
							itemValue="#{p.id}" />
					</h:selectManyCheckbox>
				</rich:tab>
				<rich:tab header="#{labelsBean.getLabel('FAQ')}">
					<h:selectManyCheckbox value="#{createGroupAction.selectedFaqArea}" layout="pageDirection">
						<f:selectItems value="#{createGroupAction.getPrivileges('FAQ')}"
							var="p" itemLabel="#{createGroupAction.getLabel(p)}"
							itemValue="#{p.id}" />
					</h:selectManyCheckbox>
				</rich:tab>
				<rich:tab header="#{labelsBean.getLabel('project')}">
					<h:selectManyCheckbox value="#{createGroupAction.selectedProjectArea}" layout="pageDirection">
						<f:selectItems
							value="#{createGroupAction.getPrivileges('project')}" var="p"
							itemLabel="#{createGroupAction.getLabel(p)}" itemValue="#{p.id}" />
					</h:selectManyCheckbox>
				</rich:tab>

			</rich:tabPanel>

			

				<f:facet name="footer">
					<rich:dataScroller id="scroller" />
				</f:facet>
			<h:selectManyCheckbox value="#{createGroupAction.selectedUsers}" layout="pageDirection">
						<f:selectItems
							value="#{userSearchAction.service.all}" var="user"
							itemLabel="#{user.fullName} #{user.mail} #{user.address.city} #{user.address.country}" itemValue="#{user.id}" />
							
					</h:selectManyCheckbox>	
			
			
			<h:commandButton value="#{labelsBean.getLabel('save')}"
				action="#{createGroupAction.saveGroup()}" />
		</h:form>
	</ui:define>
</ui:composition>
