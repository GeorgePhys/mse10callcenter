<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	template="/pages/templates/template.xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:rich="http://richfaces.org/rich">

	<ui:define name="title">Group Privileges</ui:define>
	<ui:define name="head">
		<link rel="stylesheet" type="text/css"
			href="#{facesContext.externalContext.requestContextPath}/css/admin.css" />
	</ui:define>
	<ui:define name="body">
		<h:form id="groupPrivilges">
			<h:outputLabel value="#{labelsBean.getLabel('groupName')}" />
			<h:inputText value="${createGroupAction.groupName}" />
			<h:outputLabel value="#{labelsBean.getLabel('groupDescription')}" />
			<h:inputText value="${createGroupAction.groupDescription}" />

			<rich:tabPanel switchType="client">
				<rich:tab header="user">
					<h:selectManyCheckbox value="#{createGroupAction.selected}">
						<f:selectItems value="#{createGroupAction.getPrivileges('user')}"
							var="p" itemLabel="#{createGroupAction.getLabel(p)}"
							itemValue="#{p.id}" />
					</h:selectManyCheckbox>
				</rich:tab>
				<rich:tab header="forum">
					<h:selectManyCheckbox value="#{createGroupAction.selected}">
						<f:selectItems value="#{createGroupAction.getPrivileges('forum')}"
							var="p" itemLabel="#{createGroupAction.getLabel(p)}"
							itemValue="#{p.id}" />
					</h:selectManyCheckbox>
				</rich:tab>
				<rich:tab header="shop">
					<h:selectManyCheckbox value="#{createGroupAction.selected}">
						<f:selectItems value="#{createGroupAction.getPrivileges('shop')}"
							var="p" itemLabel="#{createGroupAction.getLabel(p)}"
							itemValue="#{p.id}" />
					</h:selectManyCheckbox>
				</rich:tab>
				<rich:tab header="Issue">
					<h:selectManyCheckbox value="#{createGroupAction.selected}">
						<f:selectItems value="#{createGroupAction.getPrivileges('issue')}"
							var="p" itemLabel="#{createGroupAction.getLabel(p)}"
							itemValue="#{p.id}" />
					</h:selectManyCheckbox>
				</rich:tab>
				<rich:tab header="FAQ">
					<h:selectManyCheckbox value="#{createGroupAction.selected}">
						<f:selectItems value="#{createGroupAction.getPrivileges('FAQ')}"
							var="p" itemLabel="#{createGroupAction.getLabel(p)}"
							itemValue="#{p.id}" />
					</h:selectManyCheckbox>
				</rich:tab>
				<rich:tab header="Project">
					<h:selectManyCheckbox value="#{createGroupAction.selected}">
						<f:selectItems
							value="#{createGroupAction.getPrivileges('project')}" var="p"
							itemLabel="#{createGroupAction.getLabel(p)}" itemValue="#{p.id}" />
					</h:selectManyCheckbox>
				</rich:tab>

			</rich:tabPanel>

			<rich:dataTable value="#{userSearchAction.service.all}" var="user"
				rows="10">
				<h:column>
					<h:commandLink  value="#{user.fullName}" />
				</h:column>
				<h:column>
					<h:commandLink  value="#{user.mail}" />
				</h:column>
				<h:column>
					<h:commandLink  value="#{user.address.country}" />
				</h:column>
				<h:column>
					<h:commandLink  value="#{user.address.city}" />
				</h:column>
				<h:column>
					<h:commandLink  value="#{user.address.street}" />
				</h:column>
				<h:column>
					<h:commandLink  value="#{user.address.postCode}" />
				</h:column>
				<h:column>
					<h:commandLink  value="#{user.phone}" />
				</h:column>

				<f:facet name="footer">
					<rich:dataScroller id="scroller" />
				</f:facet>

			</rich:dataTable>
			<h:selectManyCheckbox value="#{createGroupAction.selectedUsers}">
						<f:selectItems
							value="#{userSearchAction.service.all}" var="user"
							itemLabel="#{user.fullName}" itemValue="#{user}" />
					</h:selectManyCheckbox>

			<h:commandButton value="#{labelsBean.getLabel('save')}"
				action="#{createGroupAction.saveGroup()}" />
		</h:form>
	</ui:define>
</ui:composition>
