<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/pages/templates/template.xhtml"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j" >

	<ui:define name="title">Create Issue</ui:define>
	<ui:define name="head">
		<link rel="stylesheet" type="text/css"
			href="#{facesContext.externalContext.requestContextPath}/css/issue.css" />
		<f:loadBundle basename="labels.labels" var="labels" />

		<f:loadBundle basename="messages.messages" var="messages" />
	</ui:define>

	<ui:define name="body">

		<div id="createIssue" align="left">
			<h:form id="formCreateIssue" name="formCreateIssue">

				<rich:panel>
					<f:facet name="header">
						<h:outputText value="#{labels.issueDetail}" />
					</f:facet>

					<table>
						<tr>
							<td><h:panelGrid columns="3">

									<h:outputText value="#{labels.titleIssue}:"
										styleClass="issueFieldPos" />
									<h:inputText value="#{issueCreateAction.issue.titleIssue}"
										required="true" id="titleIssue" styleClass="issueField"
										readonly="#{issueCreateAction.readonly}" />
									<h:message for="titleIssue" styleClass="issueError" />


									<h:outputText value="#{labels.type}:"
										styleClass="issueFieldPos" />
									<h:selectOneMenu value="#{issueCreateAction.issue.type}"
										id="type" styleClass="issueField"
										disabled="#{issueCreateAction.readonly}">
										<f:selectItem itemLabel="#{labels.choiceOption}" itemValue="0" />
										<f:selectItem itemLabel="#{labels.bug}" itemValue="1" />
										<f:selectItem itemLabel="#{labels.improvement}" itemValue="2" />
										<f:selectItem itemLabel="#{labels.newFeature}" itemValue="3" />
										<f:selectItem itemLabel="#{labels.task}" itemValue="4" />
										<f:selectItem itemLabel="#{labels.customIssue}" itemValue="5" />

									</h:selectOneMenu>

									<h:message for="type" styleClass="issueError" />

									<h:outputText value="#{labels.priority}:"
										styleClass="issueFieldPos" />
									<h:selectOneMenu value="#{issueCreateAction.issue.priority}"
										id="priority" styleClass="issueField"
										disabled="#{issueCreateAction.readonly}">
										<f:selectItem itemLabel="#{labels.choiceOption}" itemValue="0" />
										<f:selectItem itemLabel="#{labels.critical}" itemValue="1" />
										<f:selectItem itemLabel="#{labels.major}" itemValue="2" />
										<f:selectItem itemLabel="#{labels.minor}" itemValue="3" />
										<f:selectItem itemLabel="#{labels.trivial}" itemValue="4" />
									</h:selectOneMenu>

									<h:message for="priority" />

									<h:outputText value="#{labels.status}:"
										styleClass="issueFieldPos" />
									<h:selectOneMenu value="#{issueCreateAction.issue.status}"
										id="status" styleClass="issueField"
										disabled="#{issueCreateAction.readonly}">
										<f:selectItem itemLabel="#{labels.choiceOption}" itemValue="0" />
										<f:selectItem itemLabel="#{labels.open}" itemValue="1" />
										<f:selectItem itemLabel="#{labels.inProgress}" itemValue="2" />
										<f:selectItem itemLabel="#{labels.resolved}" itemValue="3" />
										<f:selectItem itemLabel="#{labels.reopened}" itemValue="4" />
										<f:selectItem itemLabel="#{labels.closed}" itemValue="5" />
									</h:selectOneMenu>

									<h:message for="status" styleClass="issueError" />

									<h:outputText value="#{labels.resolution}:"
										styleClass="issueFieldPos" />
									<h:selectOneMenu value="#{issueCreateAction.issue.resolution}"
										id="resolution" styleClass="issueField"
										disabled="#{issueCreateAction.readonly}">
										<f:selectItem itemLabel="#{labels.choiceOption}" itemValue="0" />
										<f:selectItem itemLabel="#{labels.fixed}" itemValue="1" />
										<f:selectItem itemLabel="#{labels.woNotFix}" itemValue="2" />
										<f:selectItem itemLabel="#{labels.duplicate}" itemValue="3" />
										<f:selectItem itemLabel="#{labels.incomplete}" itemValue="4" />
										<f:selectItem itemLabel="#{labels.cannotReproduce}"
											itemValue="5" />
									</h:selectOneMenu>

									<h:message for="resolution" styleClass="issueError" />




								</h:panelGrid></td>
							<td>

								<div align="left" style="width: 443px;">

									<rich:panel>
										<f:facet name="header">
											<h:outputText value="#{labels.staff}" />
										</f:facet>

										<h:panelGrid columns="3">
											<h:outputText value="#{labels.reporter}:"
												styleClass="issueFieldPos" />
											<h:inputText value="#{issueCreateAction.issue.reporter}"
												required="true" id="reporter" styleClass="issueField"
												readonly="#{issueCreateAction.readonly}" />
											<h:message for="reporter" styleClass="issueError" />

											<h:outputText value="#{labels.assignee}:"
												styleClass="issueFieldPos" />
											<h:inputText value="#{issueCreateAction.issue.assignee}"
												required="true" id="assignee" styleClass="issueField"
												readonly="#{issueCreateAction.readonly}" />
											<h:message for="assignee" styleClass="issueError" />

										</h:panelGrid>
									</rich:panel>

									<rich:panel>
										<f:facet name="header">
											<h:outputText value="#{labels.date}" />
										</f:facet>


										<h:panelGrid columns="3">
											<h:outputText value="#{labels.dateCreated}:"
												readonly="#{issueCreateAction.readonly}" />


											<rich:calendar value="#{issueCreateAction.issue.dateCreated}"
												locale="bg" popup="true" datePattern="d/M/yy"
												showApplyButton="false"
												disabled="#{issueCreateAction.readonly}" />
											<h:message for="dateCreated" styleClass="issueError" />


											<h:outputText value="#{labels.dateEnded}:" />


											<rich:calendar value="#{issueCreateAction.issue.dateEnded}"
												locale="bg" popup="true" datePattern="d/M/yy"
												showApplyButton="false"
												disabled="#{issueCreateAction.readonly}" />


											<h:message for="dateEnded" styleClass="issueError" />

										</h:panelGrid>

									</rich:panel>


								</div></td>
						</tr>
						<tr>

						<h:panelGrid columns="3" columnClasses="wfcol1,wfcol2,wfcol3">
								<h:outputText value="#{labels.description}:" />
								<h:inputTextarea id="description"
									value="#{issueCreateAction.issue.desctription}" required="true"
									style=" width : 260px;"
									readonly="#{issueCreateAction.readonly}" />
								<h:message for="description" styleClass="issueError" />

							</h:panelGrid>


						</tr>
					</table>
				</rich:panel>
				<h:commandButton action="#{issueCreateAction.create()}"
					value="#{labels.save}" style="margin-left: 400px; width : 85px;" />
				<h:commandButton action="#{issueCreateAction.edit(issue)}"
					value="#{labels.edit}" style="margin-left: 15px; width : 90px;" />

			</h:form>




		</div>

	</ui:define>
</ui:composition>